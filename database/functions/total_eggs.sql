DELIMITER $$

CREATE FUNCTION total_eggs()
RETURNS INT
NOT DETERMINISTIC
BEGIN
  SELECT COUNT(*) INTO @count
    FROM egg;
  RETURN @count DIV 2;
END $$

DELIMITER ;